doctype html
html(lang="en")
  head
    block title
      title Webhook Testing Tool
    link(rel="stylesheet", href="/__admin/style.css")
    link(rel="stylesheet", href="/__admin/bulma.min.css")
  body
    nav.navbar
      .navbar-brand
        a.navbar-item(href="/__admin") Webhook Testing Tool
    .sidebar
      if requests && requests.length > 0
        form(action="/__admin/", method="post")
          div
            button.button(type="submit" name="clearrequests" value="true") Clear Requests
        each req in requests
          a.sidebar-item.card(href="/__admin/request/" + req.id)
            .sidebar-item-id
              span= req.id.slice(0, 8)
              span.sidebar-item-timestamp= DateTime.fromMillis(req.req_timestamp).diffNow().negate().normalize().rescale().toHuman({ unitDisplay: "narrow" })
            .sidebar-item-method= req.req_method
            .sidebar-item-url= req.req_url
            .sidebar-item-status= req.resp_status
      else 
        div No requests.
    main
      block content
    footer.footer
      .content.has-text-centered Copyright 2024 Luke Turner - <a href="https://github.com/luketurner/webhook-testing-tool">source</a>